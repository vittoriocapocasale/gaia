(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{521:function(t,e,a){"use strict";a.r(e);var o=a(1),s=Object(o.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"join-the-cosmos-hub-public-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#join-the-cosmos-hub-public-testnet"}},[t._v("#")]),t._v(" Join the Cosmos Hub Public Testnet")]),t._v(" "),a("p",[t._v("This tutorial will provide all necessary instructions for joining the current public testnet. If you're interested in more advanced configuration and synchronization options, see "),a("RouterLink",{attrs:{to:"/hub-tutorials/join-mainnet.html"}},[t._v("Join Mainnet")]),t._v(" for a detailed walkthrough.")],1),t._v(" "),a("ul",[a("li",[t._v("Current Version: v9-Lambda")]),t._v(" "),a("li",[t._v("Chain ID: "),a("code",[t._v("theta-testnet-001")])])]),t._v(" "),a("h2",{attrs:{id:"background"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[t._v("#")]),t._v(" Background")]),t._v(" "),a("p",[t._v("The Cosmos Hub Public Testnet is currently running Gaia v8. Visit the "),a("a",{attrs:{href:"https://explorer.theta-testnet.polypore.xyz/",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet explorer"),a("OutboundLink")],1),t._v(" to view all on-chain activity.")]),t._v(" "),a("p",[t._v("For those who just need instructions on performing the upgrade, see the "),a("a",{attrs:{href:"#upgrading-your-node"}},[t._v("Upgrading Your Node")]),t._v(" section.")]),t._v(" "),a("h3",{attrs:{id:"version-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-history"}},[t._v("#")]),t._v(" Version History")]),t._v(" "),a("p",[t._v("The table below shows all past and upcoming versions of the public testnet.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Release")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Upgrade Block Height")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Upgrade Date")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("v9.0.0-rc3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("14,476,206")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2023-02-08")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("v8.0.0-rc3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("14,175,595")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2023-01-20")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("v7.0.0-rc0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("9,283,650")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2022-03-17")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("v6.0.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Genesis")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Launched 2022-03-10")])])])]),t._v(" "),a("p",[t._v("See the "),a("a",{attrs:{href:"https://github.com/cosmos/gaia/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gaia release page"),a("OutboundLink")],1),t._v(" for details on each release.")]),t._v(" "),a("h2",{attrs:{id:"how-to-join"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-join"}},[t._v("#")]),t._v(" How to Join")]),t._v(" "),a("p",[t._v("We offer three ways to set up a node in the testnet:")]),t._v(" "),a("ul",[a("li",[t._v("Quickstart scripts\n"),a("ul",[a("li",[t._v("The "),a("a",{attrs:{href:"https://github.com/cosmos/testnets/tree/master/public#bash-script",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnets"),a("OutboundLink")],1),t._v(" repo has shell scripts to set up a node with a single command.")])])]),t._v(" "),a("li",[t._v("Ansible playbooks\n"),a("ul",[a("li",[t._v("The "),a("a",{attrs:{href:"https://github.com/hyphacoop/cosmos-ansible#-quick-start",target:"_blank",rel:"noopener noreferrer"}},[t._v("cosmos-ansible"),a("OutboundLink")],1),t._v(" repo has an inventory file to set up a node with a single command.")])])]),t._v(" "),a("li",[t._v("Step-by-step instructions\n"),a("ul",[a("li",[t._v("The rest of this document provides a step-by-step walkthrough for setting up a testnet node.")])])])]),t._v(" "),a("p",[t._v("We recommend running public testnet nodes on machines with at least 8 cores, 16GB of RAM, and 300GB of disk space.")]),t._v(" "),a("h2",{attrs:{id:"sync-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-options"}},[t._v("#")]),t._v(" Sync Options")]),t._v(" "),a("p",[t._v("There are two ways to sync a testnet node, Fastsync and State Sync.")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.tendermint.com/v0.34/tendermint-core/fast-sync.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fast Sync"),a("OutboundLink")],1),t._v(" syncs the chain from genesis by downloading blocks in parallel and then verifying them.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.tendermint.com/v0.34/tendermint-core/state-sync.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("State Sync"),a("OutboundLink")],1),t._v(" will look for snapshots from peers at a trusted height and then verifying a minimal set of snapshot chunks against the network.")])]),t._v(" "),a("p",[t._v("State Sync is far faster and more efficient than Fast Sync, but Fast Sync offers higher data integrity and more robust history. For those who are concerned about storage and costs, State Sync can be the better option as it minimizes storage usage when rebuilding initial state.")]),t._v(" "),a("h2",{attrs:{id:"step-by-step-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-by-step-setup"}},[t._v("#")]),t._v(" Step-by-Step Setup")]),t._v(" "),a("p",[t._v("The following set of instructions assumes you are logged in as root.")]),t._v(" "),a("ul",[a("li",[t._v("You can run the relevant commands from a sudoer account.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("/root/")]),t._v(" part in service file paths can be changed to "),a("code",[t._v("/home/<username>/")]),t._v(".")])]),t._v(" "),a("h3",{attrs:{id:"build-tools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-tools"}},[t._v("#")]),t._v(" Build Tools")]),t._v(" "),a("p",[t._v("Install build tools and Go.")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"c3VkbyBhcHQtZ2V0IHVwZGF0ZQpzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSBtYWtlIGdjYwp3Z2V0IGh0dHBzOi8vZ28uZGV2L2RsL2dvMS4xOC41LmxpbnV4LWFtZDY0LnRhci5negpzdWRvIHJtIC1yZiAvdXNyL2xvY2FsL2dvICZhbXA7JmFtcDsgc3VkbyB0YXIgLUMgL3Vzci9sb2NhbCAteHpmIGdvMS4xOC41LmxpbnV4LWFtZDY0LnRhci5negpleHBvcnQgUEFUSD0kUEFUSDovdXNyL2xvY2FsL2dvL2Jpbgo="}}),t._v(" "),a("h3",{attrs:{id:"installation-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-configuration"}},[t._v("#")]),t._v(" Installation & Configuration")]),t._v(" "),a("p",[t._v("You will need to install and configure the Gaia binary using the script below. The Cosmos Hub Public Testnet is running Gaia "),a("a",{attrs:{href:"https://github.com/cosmos/gaia/releases/tag/v9.0.0-rc6",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("v9.0.0-rc6")]),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("For up-to-date endpoints like seeds and state sync RPC servers, visit the "),a("a",{attrs:{href:"https://github.com/cosmos/testnets/tree/master/public",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnets repository"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("p",[t._v("Build the gaiad binary and initialize the chain home folder.")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Y2QgJEhPTUUKZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9jb3Ntb3MvZ2FpYQpjZCBnYWlhCiMgVG8gc3luYyBmcm9tIGdlbmVzaXMsIGNvbW1lbnQgb3V0IHRoZSBuZXh0IGxpbmUuCmdpdCBjaGVja291dCB2OS4wLjAtcmM2CiMgVG8gc3luYyBmcm9tIGdlbmVzaXMsIHVuY29tbWVudCB0aGUgbmV4dCBsaW5lIGFuZCBza2lwIHRoZSBTdGF0ZSBTeW5jIFNldHVwIHNlY3Rpb24uCiMgZ2l0IGNoZWNrb3V0IHY2LjAuNAptYWtlIGluc3RhbGwKZXhwb3J0IFBBVEg9JFBBVEg6JEhPTUUvZ28vYmluCmdhaWFkIGluaXQgJmx0O2N1c3RvbV9tb25pa2VyJmd0Owo="}}),t._v(" "),a("p",[t._v("Prepare the genesis file.")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Y2QgJEhPTUUKd2dldCBodHRwczovL2dpdGh1Yi5jb20vY29zbW9zL3Rlc3RuZXRzL3Jhdy9tYXN0ZXIvcHVibGljL2dlbmVzaXMuanNvbi5negpnemlwIC1kIGdlbmVzaXMuanNvbi5negptdiBnZW5lc2lzLmpzb24gJEhPTUUvLmdhaWEvY29uZmlnL2dlbmVzaXMuanNvbgoKIyBTZXQgbWluaW11bSBnYXMgcHJpY2UgJmFtcDsgcGVlcnMKY2QgJEhPTUUvLmdhaWEvY29uZmlnCnNlZCAtaSAncy9taW5pbXVtLWdhcy1wcmljZXMgPSAmcXVvdDsmcXVvdDsvbWluaW11bS1nYXMtcHJpY2VzID0gJnF1b3Q7MC4wMDI1dWF0b20mcXVvdDsvJyBhcHAudG9tbApzZWQgLWkgJ3Mvc2VlZHMgPSAmcXVvdDsmcXVvdDsvc2VlZHMgPSAmcXVvdDs2MzlkNTAzMzlkNzA0NTQzNmM3NTZhMDQyOTA2YjlhNjk5NzA5MTNmQHNlZWQtMDEudGhldGEtdGVzdG5ldC5wb2x5cG9yZS54eXo6MjY2NTYsM2U1MDY0NzI2ODNjZWI3ZWQ3NWMxNTc4ZDA5MmM3OTc4NWMyNzg1N0BzZWVkLTAyLnRoZXRhLXRlc3RuZXQucG9seXBvcmUueHl6OjI2NjU2JnF1b3Q7LycgY29uZmlnLnRvbWwK"}}),t._v(" "),a("h4",{attrs:{id:"state-sync-setup-recommended"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-sync-setup-recommended"}},[t._v("#")]),t._v(" State Sync Setup (Recommended)")]),t._v(" "),a("p",[t._v("State sync requires you to configure a trust height and trust hash. These depend on the current block height, so they will vary depending on when you are joining the network.")]),t._v(" "),a("ul",[a("li",[t._v("Visit a "),a("a",{attrs:{href:"https://explorer.theta-testnet.polypore.xyz/",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet explorer"),a("OutboundLink")],1),t._v(" to find the block and hash for the current height - 1000.")]),t._v(" "),a("li",[t._v("Set these parameters in the code snippet below: "),a("code",[t._v("<BLOCK_HEIGHT>")]),t._v(" and "),a("code",[t._v("<BLOCK_HASH>")]),t._v(".")])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Y2QgJEhPTUUvLmdhaWEvY29uZmlnCnNlZCAtaSAncy9lbmFibGUgPSBmYWxzZS9lbmFibGUgPSB0cnVlLycgY29uZmlnLnRvbWwKc2VkIC1pICdzL3RydXN0X2hlaWdodCA9IDAvdHJ1c3RfaGVpZ2h0ID0gJmx0O0JMT0NLX0hFSUdIVCZndDsvJyBjb25maWcudG9tbApzZWQgLWkgJ3MvdHJ1c3RfaGFzaCA9ICZxdW90OyZxdW90Oy90cnVzdF9oYXNoID0gJnF1b3Q7Jmx0O0JMT0NLX0hBU0gmZ3Q7JnF1b3Q7LycgY29uZmlnLnRvbWwKc2VkIC1pICdzL3JwY19zZXJ2ZXJzID0gJnF1b3Q7JnF1b3Q7L3JwY19zZXJ2ZXJzID0gJnF1b3Q7aHR0cDpcL1wvc3RhdGUtc3luYy0wMS50aGV0YS10ZXN0bmV0LnBvbHlwb3JlLnh5ejoyNjY1NyxodHRwOlwvXC9zdGF0ZS1zeW5jLTAyLnRoZXRhLXRlc3RuZXQucG9seXBvcmUueHl6OjI2NjU3JnF1b3Q7LycgY29uZmlnLnRvbWwK"}}),t._v(" "),a("ul",[a("li",[t._v("For example, if the block explorer lists a current block height of 12,563,326, we could use a trust height of "),a("a",{attrs:{href:"https://explorer.theta-testnet.polypore.xyz/blocks/12562000",target:"_blank",rel:"noopener noreferrer"}},[t._v("12,562,000"),a("OutboundLink")],1),t._v(" and the trust hash would be "),a("code",[t._v("6F958861E1FA409639C8F2DA899D09B9F50A66DBBD49CE021A2FF680FA8A9204")]),t._v(".")])]),t._v(" "),a("h3",{attrs:{id:"cosmovisor-setup-optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cosmovisor-setup-optional"}},[t._v("#")]),t._v(" Cosmovisor Setup (Optional)")]),t._v(" "),a("p",[t._v("Cosmovisor is a process manager that monitors the governance module for incoming chain upgrade proposals. When a proposal is approved, Cosmovisor can automatically download the new binary, stop the chain binary when it hits the upgrade height, switch to the new binary, and restart the daemon. Cosmovisor can be used with either Fast Sync or State Sync.")]),t._v(" "),a("p",[t._v("The instructions below provide a simple way to sync via Cosmovisor. For more information on configuration, check out the Cosmos SDK's "),a("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/tree/main/tools/cosmovisor",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cosmovisor documentation"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("Cosmovisor requires the creation of the following directory structure:")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"LmdhaWEK4pSU4pSA4pSAIGNvc21vdmlzb3IKICAgIOKUlOKUgOKUgCBnZW5lc2lzCiAgICAgICAg4pSU4pSA4pSAIGJpbgogICAgICAgICAgICDilJTilIDilIAgZ2FpYWQK"}}),t._v(" "),a("p",[t._v("Install Cosmovisor and copy Gaia binary to genesis folder")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Z28gaW5zdGFsbCBnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2Nvc21vdmlzb3IvY21kL2Nvc21vdmlzb3JAdjEuMy4wCm1rZGlyIC1wIH4vLmdhaWEvY29zbW92aXNvci9nZW5lc2lzL2JpbgpjcCB+L2dvL2Jpbi9nYWlhZCB+Ly5nYWlhL2Nvc21vdmlzb3IvZ2VuZXNpcy9iaW4vCg=="}}),t._v(" "),a("h3",{attrs:{id:"create-service-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-service-file"}},[t._v("#")]),t._v(" Create Service File")]),t._v(" "),a("ul",[a("li",[t._v("Cosmos Hub recommends running "),a("code",[t._v("gaiad")]),t._v(" or "),a("code",[t._v("cosmovisor")]),t._v(" with the "),a("code",[t._v("--x-crisis-skip-assert-invariants")]),t._v(" flag. If checking for invariants, operators are likely to see "),a("code",[t._v("rounding error withdrawing rewards from validator")]),t._v(". These are expected. For more information see "),a("RouterLink",{attrs:{to:"/hub-tutorials/join-mainnet.html#verify-mainnet"}},[t._v("Verify Mainnet")]),t._v(".")],1)]),t._v(" "),a("p",[t._v("Create one of the following service files.")]),t._v(" "),a("p",[t._v("If you are not using Cosmovisor: "),a("code",[t._v("/etc/systemd/system/gaiad.service")])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"W1VuaXRdCkRlc2NyaXB0aW9uPUdhaWEgc2VydmljZQpBZnRlcj1uZXR3b3JrLW9ubGluZS50YXJnZXQKCltTZXJ2aWNlXQpVc2VyPXJvb3QKRXhlY1N0YXJ0PS9yb290L2dvL2Jpbi9nYWlhZCBzdGFydCAtLXgtY3Jpc2lzLXNraXAtYXNzZXJ0LWludmFyaWFudHMgLS1ob21lIC9yb290Ly5nYWlhClJlc3RhcnQ9bm8KTGltaXROT0ZJTEU9NDA5NgoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0Cg=="}}),t._v(" "),a("p",[t._v("If you are using Cosmovisor: "),a("code",[t._v("/etc/systemd/system/cosmovisor.service")])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"W1VuaXRdCkRlc2NyaXB0aW9uPUNvc21vdmlzb3Igc2VydmljZQpBZnRlcj1uZXR3b3JrLW9ubGluZS50YXJnZXQKCltTZXJ2aWNlXQpVc2VyPXJvb3QKRXhlY1N0YXJ0PS9yb290L2dvL2Jpbi9jb3Ntb3Zpc29yIHJ1biBzdGFydCAtLXgtY3Jpc2lzLXNraXAtYXNzZXJ0LWludmFyaWFudHMgLS1ob21lIC9yb290Ly5nYWlhClJlc3RhcnQ9bm8KTGltaXROT0ZJTEU9NDA5NgpFbnZpcm9ubWVudD0nREFFTU9OX05BTUU9Z2FpYWQnCkVudmlyb25tZW50PSdEQUVNT05fSE9NRT0vcm9vdC8uZ2FpYScKRW52aXJvbm1lbnQ9J0RBRU1PTl9BTExPV19ET1dOTE9BRF9CSU5BUklFUz10cnVlJwpFbnZpcm9ubWVudD0nREFFTU9OX1JFU1RBUlRfQUZURVJfVVBHUkFERT10cnVlJwpFbnZpcm9ubWVudD0nREFFTU9OX0xPR19CVUZGRVJfU0laRT01MTInCkVudmlyb25tZW50PSdVTlNBRkVfU0tJUF9CQUNLVVA9dHJ1ZScKCltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldAo="}}),t._v(" "),a("h3",{attrs:{id:"start-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-the-service"}},[t._v("#")]),t._v(" Start the Service")]),t._v(" "),a("p",[t._v("Reload the systemd manager configuration.")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3lzdGVtY3RsIGRhZW1vbi1yZWxvYWQKc3lzdGVtY3RsIHJlc3RhcnQgc3lzdGVtZC1qb3VybmFsZAo="}}),t._v(" "),a("p",[t._v("If you are not using Cosmovisor:")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3lzdGVtY3RsIGVuYWJsZSBnYWlhZC5zZXJ2aWNlCnN5c3RlbWN0bCBzdGFydCBnYWlhZC5zZXJ2aWNlCg=="}}),t._v(" "),a("p",[t._v("If you are using Cosmovisor:")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3lzdGVtY3RsIGVuYWJsZSBjb3Ntb3Zpc29yLnNlcnZpY2UKc3lzdGVtY3RsIHN0YXJ0IGNvc21vdmlzb3Iuc2VydmljZQo="}}),t._v(" "),a("p",[t._v("To follow the service log, run "),a("code",[t._v("journalctl -fu gaiad")]),t._v(" or "),a("code",[t._v("journalctl -fu cosmovisor")]),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("If you are using State Sync, the chain will start syncing once a snapshot is found and verified. Syncing to the current block height should take less than half an hour.")]),t._v(" "),a("li",[t._v("If you are using Fast Sync, the chain will start syncing once the first block after genesis is found among the peers. "),a("strong",[t._v("Syncing to the current block height will take several days")]),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"create-a-validator-optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-validator-optional"}},[t._v("#")]),t._v(" Create a Validator (Optional)")]),t._v(" "),a("p",[t._v("If you want to create a validator in the testnet, request tokens through the "),a("a",{attrs:{href:"https://discord.com/channels/669268347736686612/953697793476821092",target:"_blank",rel:"noopener noreferrer"}},[t._v("faucet Discord channel"),a("OutboundLink")],1),t._v(" and follow the "),a("RouterLink",{attrs:{to:"/validators/validator-setup.html"}},[t._v("Running a validator")]),t._v(" instructions provided for mainnet.")],1),t._v(" "),a("h2",{attrs:{id:"upgrading-your-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-your-node"}},[t._v("#")]),t._v(" Upgrading Your Node")]),t._v(" "),a("p",[t._v("Follow these instructions if you have a node that is already synced and wish to participate in a scheduled testnet software upgrade.")]),t._v(" "),a("p",[t._v("When the chain reaches the upgrade block height specified by a software upgrade proposal, the chain binary will halt and expect the new binary to be run (the system log will show "),a("code",[t._v('ERR UPGRADE "<Upgrade name>" NEEDED at height: XXXX')]),t._v(" or something similar).")]),t._v(" "),a("p",[t._v("There are three ways you can update the binary:")]),t._v(" "),a("ol",[a("li",[t._v("Without Cosmovisor: You must build or download the new binary ahead of the upgrade. When the chain binary halts at the upgrade height:")])]),t._v(" "),a("ul",[a("li",[t._v("Stop the gaiad service with "),a("code",[t._v("systemctl stop gaiad.service")]),t._v(".")]),t._v(" "),a("li",[t._v("Build or download the new binary, replacing the existing "),a("code",[t._v("~/go/bin")]),t._v(" one.")]),t._v(" "),a("li",[t._v("Start the gaiad service with "),a("code",[t._v("systemctl start gaiad.service")]),t._v(".")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("With Cosmovisor: You must build or download the new binary and copy it to the appropriate folder ahead of the upgrade.")]),t._v(" "),a("li",[t._v("With Cosmovisor: Using the auto-download feature, assuming the proposal includes the binaries for your system architecture.")])]),t._v(" "),a("p",[t._v("The instructions below are for option 2. For more information on auto-download with Cosmovisor, see the relevant "),a("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/tree/main/tools/cosmovisor#auto-download",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation"),a("OutboundLink")],1),t._v(" in the Cosmos SDK repo.")]),t._v(" "),a("p",[t._v("If the environment variable "),a("code",[t._v("DAEMON_ALLOW_DOWNLOAD_BINARIES")]),t._v(" is set to "),a("code",[t._v("false")]),t._v(", Cosmovisor will look for the new binary in a folder that matches the name of the upgrade specified in the software upgrade proposal. For the "),a("code",[t._v("v9-Lambda")]),t._v(" upgrade, the expected folder structure would look as follows:")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"shell",base64:"LmdhaWEK4pSU4pSA4pSAIGNvc21vdmlzb3IKICAgIOKUnOKUgOKUgCBjdXJyZW50CiAgICDilJzilIDilIAgZ2VuZXNpcwogICAg4pSCICAg4pSU4pSA4pSAIGJpbgogICAgfCAgICAgICDilJTilIDilIAgZ2FpYWQKICAgIOKUlOKUgOKUgCB1cGdyYWRlcwogICAgICAgIOKUlOKUgOKUgCB2OS1sYW1iZGEKICAgICAgICAgICAg4pSU4pSA4pSAIGJpbgogICAgICAgICAgICAgICAg4pSU4pSA4pSAIGdhaWFkCg=="}}),t._v(" "),a("blockquote",[a("p",[t._v("Note: for Cosmovisor v1.0.0, the upgrade name folder is not lowercased (use "),a("code",[t._v("cosmovisor/upgrades/v9-Lambda/bin")]),t._v(" instead)")])]),t._v(" "),a("p",[t._v("Prepare the upgrade directory")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"bWtkaXIgLXAgfi8uZ2FpYS9jb3Ntb3Zpc29yL3VwZ3JhZGVzL3Y4LXJoby9iaW4K"}}),t._v(" "),a("p",[t._v("Download and install the new binary version.")]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Y2QgJEhPTUUvZ2FpYQpnaXQgcHVsbApnaXQgY2hlY2tvdXQgdjguMC4wCm1ha2UgaW5zdGFsbAoKIyBDb3B5IHRoZSBuZXcgYmluYXJ5IHRvIHRoZSB2OC1SaG8gdXBncmFkZSBkaXJlY3RvcnkKY3Agfi9nby9iaW4vZ2FpYWQgfi8uZ2FpYS9jb3Ntb3Zpc29yL3VwZ3JhZGVzL3Y5LWxhbWJkYS9iaW4vZ2FpYWQK"}}),t._v(" "),a("p",[t._v("When the upgrade height is reached, Cosmovisor will stop the gaiad binary, copy the new binary to the "),a("code",[t._v("current/bin")]),t._v(" folder and restart. After a few minutes, the node should start syncing blocks using the new binary.")])],1)}),[],!1,null,null,null);e.default=s.exports}}]);